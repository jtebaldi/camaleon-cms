.content-i  
  .content-box
    .element-wrapper
      .element-actions
        = link_to raw("<i class='os-icon os-icon-user-male-circle'></i> #{t('camaleon_cms.admin.users.add_user')}"), {action: :new}, class: "btn btn-primary cama_ajax_request"
      %h4.element-header Users
      .element-box
        .table-responsive  
          %table.table.table-striped.table-hover
            %thead
              %tr
                %th= t('camaleon_cms.admin.table.id')
                %th= t('camaleon_cms.admin.table.username')
                %th= t('camaleon_cms.admin.table.email')
                %th= t('camaleon_cms.admin.table.role')
                %th= t('camaleon_cms.admin.table.last_login')
                %th= t('camaleon_cms.admin.table.actions')
            %tbody
              - @users.decorate.each do |f|
                %tr
                  %td= f.id
                  %td= f.username
                  %td= f.email
                  %td= f.the_role
                  %td= l(f.last_login_at, format: :long) if f.last_login_at.present?
                  %td
                    = link_to raw('<i class="fa fa-pencil"></i>'), {action: :edit, id: f.id }, class: "btn btn-default btn-xs cama_ajax_request", title: "#{t('camaleon_cms.admin.button.edit')}"
                    - if current_user.id == f.id
                      = link_to 'javascript:;', class: 'btn btn-danger btn-xs cama_ajax_request', disabled: true, title: t('camaleon_cms.admin.users.message.user_can_not_delete_own_account', default: 'User can not delete own account') do
                        %i.fa.fa-times
                    - else
                      = link_to raw('<i class="fa fa-times"></i>'), { action: :destroy, id: f.id }, method: :delete, data: { confirm: t('camaleon_cms.admin.message.delete_item') }, class: "btn btn-danger btn-xs", title: "#{t('camaleon_cms.admin.button.delete')}"
                    = link_to raw('<i class="fa fa-user-secret"></i>'), {action: :impersonate, id: f.id }, class: "btn btn-default btn-xs cama_ajax_request", title: "#{cama_t('camaleon_cms.admin.users.impersonate')}" if can? :impersonate, f
          = content_tag("div", raw(t('camaleon_cms.admin.message.data_found_list')), class: "alert alert-warning") if @users.empty?
          = raw cama_do_pagination(@users)
